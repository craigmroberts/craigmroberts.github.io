(()=>{function V(o){let e=o.textContent?.trim()||"";if(!e)return;o.textContent="",o.classList.add("animated-init"),e.split(/\s+/).forEach((n,s)=>{if(!n)return;if(s>0){let r=document.createTextNode(" ");o.appendChild(r)}let a=document.createElement("span");a.className="word",Array.from(n).forEach((r,i)=>{let l=document.createElement("span");l.className="char",l.textContent=r;let c=s*10+i;l.style.setProperty("--char-index",c.toString()),a.appendChild(l)}),o.appendChild(a)})}function C(o,e={}){let n={...{root:null,rootMargin:"0px",threshold:0},...e};return new IntersectionObserver((a,r)=>{a.forEach(i=>{o(i.target,i.isIntersecting,i,r)})},n)}function M(o,e){let t;return function(...n){clearTimeout(t),t=setTimeout(()=>o.apply(this,n),e)}}function N(o=document){let e=M((s,a,r,i)=>{if(a){let l=s.getAttribute("aria-label")||s.textContent?.slice(0,20)||"[text]";s.classList.add("in-view"),i.unobserve(s)}},100),t=C(e,{threshold:.1}),n=o.querySelectorAll(".scroll-animate:not(.animated-init)");n.length!==0&&n.forEach(s=>{V(s),s.classList.add("animated-init"),t.observe(s)})}function O(o,e){let t;return function(...n){t||(o.apply(this,n),t=!0,setTimeout(()=>t=!1,e))}}function U(o=document,e={}){let t={topThreshold:e.topThreshold||0,bottomThreshold:e.bottomThreshold||0},n=new Set,s=()=>{n.forEach(c=>{let d=c.getBoundingClientRect(),u=window.innerHeight||document.documentElement.clientHeight,h=c.getAttribute("aria-label")||c.textContent?.slice(0,20)||`[${c.tagName}]`;d.top>=-t.topThreshold&&d.top<=u?c.classList.contains("top-in-view")||c.classList.add("top-in-view"):c.classList.contains("top-in-view")&&c.classList.remove("top-in-view"),d.bottom>=0&&d.bottom<=u+t.bottomThreshold?c.classList.contains("bottom-in-view")||c.classList.add("bottom-in-view"):c.classList.contains("bottom-in-view")&&c.classList.remove("bottom-in-view"),c.setAttribute("data-top-position",Math.round(d.top)),c.setAttribute("data-bottom-position",Math.round(d.bottom))})},a=O(s,100);window.addEventListener("scroll",a,{passive:!0}),window.addEventListener("resize",a,{passive:!0});let i=C((c,d,u)=>{let h=c.getAttribute("aria-label")||c.textContent?.slice(0,20)||`[${c.tagName}]`,w=u.intersectionRatio;if(d)c.classList.add("in-view"),w===1?c.classList.add("in-full-view"):c.classList.remove("in-full-view"),n.add(c),s();else{c.classList.remove("in-view","in-full-view");let L=u.boundingClientRect,p=u.rootBounds,v="";p&&(L.bottom<=p.top?v=" (Exited Top)":L.top>=p.bottom&&(v=" (Exited Bottom)")),c.classList.remove("top-in-view","bottom-in-view")}},{threshold:[0,1]}),l=o.querySelectorAll('[data-watch-inview="true"]');return l.length===0&&console.warn("No elements found with [data-watch-inview='true'] within the specified scope."),l.forEach(c=>{i.observe(c),n.add(c)}),s(),{observer:i,cleanup:()=>{window.removeEventListener("scroll",a),window.removeEventListener("resize",a),i.disconnect(),n.clear()}}}function Q(o=document){N(o),U(o,{topThreshold:100,bottomThreshold:0})}document.addEventListener("DOMContentLoaded",()=>{Q()});var Y={async fetchArticles(o,e=5){let t=`https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/@${o}/feed`,n=await fetch(t);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return((await n.json()).items||[]).slice(0,e)}};var D=class extends HTMLElement{constructor(){super(),this.articleTemplate=null,this.debouncedRender=M(this.render.bind(this),300)}connectedCallback(){this.debouncedRender()}async loadTemplate(){if(this.articleTemplate)return this.articleTemplate;try{let e=await fetch("./snippets/article-card.html");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);let t=await e.text();return this.articleTemplate=t,t}catch(e){return console.error("Failed to load article card snippet:",e),'<div class="article-card article-card-error"><p>Failed to load article content.</p></div>'}}extractThumbnail(e){if(e.thumbnail&&typeof e.thumbnail=="string"&&e.thumbnail.trim()!=="")return e.thumbnail;let t=e.description?.match(/<img[^>]+src="([^">]+)"/);return t?t[1]:"placeholder-image.jpg"}cleanDescription(e){let t=e?.replace(/<[^>]+>/g,"")||"";return t.substring(0,150)+(t.length>150?"...":"")}async render(){let e=parseInt(this.getAttribute("data-limit"),10)||5,t=this.getAttribute("data-username");if(!t){console.error("MediumArticles: data-username attribute is required.",this),this.innerHTML="<p>Error: Medium username not specified.</p>";return}try{let[n,s]=await Promise.all([Y.fetchArticles(t,e),this.loadTemplate()]);(!n||n.length===0)&&console.warn(`No articles found for username: ${t}`);let r=this.querySelector(".swiper-wrapper")||this;n.forEach(i=>{let l=this.extractThumbnail(i),c=this.cleanDescription(i.description),d=new Date(i.pubDate).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"}),u=s.replace(/{{\s*article\.guid\s*}}/g,i.guid||"").replace(/{{\s*article\.thumbnail\s*}}/g,l||"").replace(/{{\s*article\.title\s*}}/g,i.title||"Untitled").replace(/{{\s*article\.description\s*}}/g,c||"").replace(/{{\s*article\.author\s*}}/g,i.author||"Unknown Author").replace(/{{\s*article\.pubDate\s*}}/g,d||"").replace(/{{\s*article\.categories\s*}}/g,(i.categories||[]).join(", ")).replace(/{{\s*article\.link\s*}}/g,i.link||"#"),h=document.createElement("div");h.innerHTML=u.trim();let w=h.firstElementChild;w&&r.appendChild(w)}),window.animateText?.(this),new Swiper(this,{slidesPerView:1.15,spaceBetween:24,loop:n.length>1,grabCursor:!0,freeModeMomentum:!1,autoplay:!1,navigation:{nextEl:"#articles-btn-next",prevEl:"#articles-btn-previous"},breakpoints:{768:{slidesPerView:2,spaceBetween:32},968:{slidesPerView:3,spaceBetween:40},1200:{slidesPerView:4,spaceBetween:48}}})}catch(n){console.error("Error fetching or rendering Medium articles:",n),this.innerHTML=`<p>Error loading articles. ${n.message||""}</p>`}}};customElements.define("medium-articles",D);var Z=0;function A(){Z=window.pageYOffset,document.body.style.overflow="hidden"}function B(){document.body.style.overflow=""}var H=class extends HTMLElement{constructor(){super(),this.isDragging=!1,this._dragStarted=!1,this.startY=0,this.currentY=0,this.startScrollTop=0,this._dragHandleInitiated=!1,this.closeThreshold=150,this.boundHandleTouchStart=this.handleTouchStart.bind(this),this.boundHandleTouchMove=this.handleTouchMove.bind(this),this.boundHandleTouchEnd=this.handleTouchEnd.bind(this),this.boundCloseModal=this.closeModal.bind(this)}connectedCallback(){let e=this.dataset.triggers;if(!e)return;let t=document.querySelectorAll(e);t.length&&t.forEach(n=>{n.addEventListener("click",async()=>{await this.ensureModalLoaded(),this.showModal()})})}disconnectedCallback(){window.removeEventListener("touchmove",this.boundHandleTouchMove),window.removeEventListener("touchend",this.boundHandleTouchEnd)}async ensureModalLoaded(){if(!document.getElementById("modal"))try{let e=await fetch("./snippets/modal.html");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);let t=await e.text(),n=document.createElement("div");n.innerHTML=t.trim();let s=n.querySelector("#modal");if(!s)throw new Error("Modal not found in snippet");document.body.appendChild(s),this.attachCloseHandlers(s),this.setupDragFunctionality(s)}catch(e){console.error("Failed to load modal snippet:",e)}}attachCloseHandlers(e){let t=e.querySelector(".modal__close"),n=e.querySelector(".modal__overlay");t?.addEventListener("click",this.boundCloseModal),n?.addEventListener("click",this.boundCloseModal)}setupDragFunctionality(e){if(window.matchMedia("(min-width: 768px)").matches)return;let t=e.querySelector(".modal__content"),n=e.querySelector(".modal__drag-bar"),s=t?.querySelector(".modal__inner-content");if(!t||!n||!s){console.warn("Modal drag setup failed: Missing required elements (.modal__content, .modal__drag-bar, .modal__inner-content)");return}n.setAttribute("aria-label","Drag down to close modal"),n.addEventListener("touchstart",this.boundHandleTouchStart,{passive:!0}),s.addEventListener("touchstart",this.boundHandleTouchStart,{passive:!1}),window.addEventListener("touchmove",this.boundHandleTouchMove,{passive:!1}),window.addEventListener("touchend",this.boundHandleTouchEnd)}handleTouchStart(e){if(e.touches.length>1)return;let t=e.touches[0],n=document.querySelector("#modal .modal__content"),s=n?.querySelector(".modal__inner-content"),a=n?.querySelector(".modal__drag-bar");if(!(!n||!s||!a))if(this.isDragging=!1,this._dragStarted=!1,this._dragHandleInitiated=e.target===a||a.contains(e.target),this.startY=t.clientY,this.startScrollTop=s.scrollTop,this._dragHandleInitiated){let r=window.getComputedStyle(n).transform,i=r==="none"?new DOMMatrix:new DOMMatrix(r);this.currentY=i.m42,this.isDragging=!0}else this.currentY=0}handleTouchMove(e){if(this.startY===0||e.touches.length>1)return;let t=e.touches[0],n=document.querySelector("#modal .modal__content"),s=n?.querySelector(".modal__inner-content");if(!n||!s)return;let a=t.clientY-this.startY;if(this._dragHandleInitiated){this._dragStarted||(n.style.transition="none",n.classList.add("is-dragging"),this._dragStarted=!0),e.preventDefault(),this.performDrag(n,a);return}if(!(a<0)&&a>0){if(this.startScrollTop>0||s.scrollTop>0)return;if(!this._dragStarted){let r=window.getComputedStyle(n).transform,i=r==="none"?new DOMMatrix:new DOMMatrix(r);this.currentY=i.m42,n.style.transition="none",n.classList.add("is-dragging"),this._dragStarted=!0,this.isDragging=!0}e.preventDefault(),this.performDrag(n,a);return}}performDrag(e,t){let n=Math.max(0,this.currentY+t);e.style.transform=`translateY(${n}px)`;let s=document.querySelector("#modal .modal__overlay");if(s){let a=Math.min(1,n/this.closeThreshold);s.style.opacity=Math.max(.3,1-a*.7).toString()}}handleTouchEnd(e){if(this.startY=0,!this._dragStarted){this._dragHandleInitiated=!1;return}let t=document.querySelector("#modal .modal__content");if(!t)return;this.isDragging=!1,this._dragStarted=!1,this._dragHandleInitiated=!1,t.classList.remove("is-dragging");let n=window.getComputedStyle(t).transform;(n==="none"?new DOMMatrix:new DOMMatrix(n)).m42>this.closeThreshold?this.animateAndClose(t):this.resetPosition(t)}animateAndClose(e){if(!e)return;e.style.transition="transform 0.25s ease-out",e.style.transform="translateY(100%)";let t=document.querySelector("#modal .modal__overlay");t&&(t.style.transition="opacity 0.25s ease-out",t.style.opacity="0"),e.addEventListener("transitionend",()=>{this.closeModal(),e.style.transform="",e.style.transition="",t&&(t.style.opacity="",t.style.transition="")},{once:!0})}resetPosition(e){if(!e)return;e.style.transition="transform 0.3s ease",e.style.transform="";let t=document.querySelector("#modal .modal__overlay");t&&(t.style.transition="opacity 0.3s ease",t.style.opacity=""),e.addEventListener("transitionend",()=>{e.style.transition="",t&&(t.style.transition="")},{once:!0})}showModal(){let e=document.getElementById("modal");if(!e)return;let t=e.querySelector(".modal__inner-content");if(!t)return;t.innerHTML="";let n=this.cloneNode(!0);t.append(...n.childNodes),this.dataset.nav==="true"&&this.setupNavigation(e),t.scrollTop=0,requestAnimationFrame(()=>{A(),document.body.classList.add("modal-open"),e.classList.add("is-active");let s=e.querySelector(".modal__content");s&&(s.style.transform="",s.style.transition="");let a=e.querySelector(".modal__overlay");a&&(a.style.opacity="",a.style.transition="")})}closeModal(){let e=document.getElementById("modal");if(!e||!e.classList.contains("is-active"))return;B(),document.body.classList.remove("modal-open"),e.classList.remove("is-active");let t=e.querySelector(".modal__content");t&&(t.style.transform="",t.style.transition="");let n=e.querySelector(".modal__overlay");n&&(n.style.opacity="",n.style.transition="")}};customElements.define("modal-content",H);var $=H;var ee=[{id:"patou",largeBlock:!1,name:"Patou",logo:"./assets/images/brand/logo/logo-patou.svg",lifestyleImage:"./assets/images/brand/lifestyle/patou.jpg",website:"https://www.patou.com/",agency:"Fostr",involvement:{progress:2,max:5},modal:{id:"brands-item-patou",description_html:`
        <h2>Patou \u2013 Sustainable Luxury</h2>
        <p>Patou is a Parisian fashion house blending heritage with sustainability. Their collections are known for bold silhouettes, joyful color, and a commitment to eco-conscious practices.</p>
        <h3 class="h4">Contribution</h3>
        <div class="stats">
          <p><strong>Agency: <span>{{ brand.agency }}</span></strong></p>
          <p><strong>Involvement:</strong> {{ brand.involvement_progress }}</p>
        </div>
        <p>I worked on performance tuning and responsive layout tweaks across seasonal collection drops. Collaborated closely with their in-house team on content updates and accessibility improvements.</p>
        <a class="button button--style-1" href="#work">Learn more</a>
        <a class="button button--style-2 button--filled" href="https://www.patou.com/" target="_blank">View Website</a>`}},{id:"triangl",largeBlock:!0,name:"Triangl",logo:"./assets/images/brand/logo/logo-triangl.svg",lifestyleImage:"./assets/images/brand/lifestyle/triangl.jpg",website:"https://triangl.com/",agency:"Fostr",involvement:{progress:2,max:5},modal:{id:"brands-item-triangl",description_html:`
        <h2>TRIANGL \u2013 Swimwear, Reimagined</h2>
        <p>TRIANGL is a globally recognized swimwear brand known for their clean aesthetic, vibrant campaigns, and modern silhouettes.</p>
        <h3 class="h4">Contribution</h3>
        <div class="stats">
          <p><strong>Agency: <span>{{ brand.agency }}</span></strong></p>
          <p><strong>Involvement:</strong> {{ brand.involvement_progress }}</p>
        </div>
        <p>I provided technical support for campaign updates and refreshed components on key landing pages. Work included hero modules, content blocks, and global styling tweaks.</p>
        <a class="button button--style-1" href="#work">Learn more</a>
        <a class="button button--style-2 button--filled" href="https://triangl.com/" target="_blank">View Website</a>`}},{id:"pucci",largeBlock:!1,name:"Pucci",logo:"./assets/images/brand/logo/logo-pucci.svg",lifestyleImage:"./assets/images/brand/lifestyle/pucci.jpg",website:"https://www.pucci.com/",agency:"Fostr",involvement:{progress:2,max:5},modal:{id:"brands-item-pucci",description_html:`
        <h2>Pucci \u2013 A Digital Renaissance</h2>
        <p>Pucci, an icon of Italian fashion, needed a modern online experience to match their vibrant heritage. Their site showcases fluid animations and rich storytelling.</p>
        <h3 class="h4">Contribution</h3>
        <div class="stats">
          <p><strong>Agency: <span>{{ brand.agency }}</span></strong></p>
          <p><strong>Involvement:</strong> {{ brand.involvement_progress }}</p>
        </div>
        <p>I collaborated with the design team to develop interactive page templates, optimized animations, and refined the core layout system for mobile users.</p>
        <a class="button button--style-1" href="#work">Learn more</a>
        <a class="button button--style-2 button--filled" href="https://www.pucci.com/" target="_blank">View Website</a>`}},{id:"victoria-beckham",largeBlock:!1,name:"Victoria Beckham",logo:"./assets/images/brand/logo/logo-victoria-beckham.svg",lifestyleImage:"./assets/images/brand/lifestyle/victoria-beckham.jpg",website:"https://www.victoriabeckham.com/",agency:"Fostr",involvement:{progress:1,max:5},modal:{id:"brands-item-victoria-beckham",description_html:`
        <h2>Victoria Beckham \u2013 Modern Elegance</h2>
        <p>Luxury meets minimalism. I supported backend tweaks and frontend content placement to align with their high-end aesthetic and product storytelling.</p>
        <h3 class="h4">Contribution</h3>
        <div class="stats">
          <p><strong>Agency: <span>{{ brand.agency }}</span></strong></p>
          <p><strong>Involvement:</strong> {{ brand.involvement_progress }}</p>
        </div>
        <p>My involvement included structural content layout adjustments and theme integration during their seasonal site refresh.</p>
        <a class="button button--style-1" href="#work">Learn more</a>
        <a class="button button--style-2 button--filled" href="https://www.victoriabeckham.com/" target="_blank">View Website</a>`}},{id:"kit-and-kaboodal",largeBlock:!1,name:"Kit and Kaboodal",logo:"./assets/images/brand/logo/logo-kit-and-kaboodal.svg",lifestyleImage:"./assets/images/brand/lifestyle/kit-and-kaboodal.jpg",website:"https://www.kitandkaboodal.com/",agency:"Fostr",involvement:{progress:3,max:5},modal:{id:"brands-item-kit-and-kaboodal",description_html:`
        <h2>Elevating a Boutique Experience</h2>
        <p>Kit and Kaboodal is a family-run brand offering relaxed, easy-to-wear fashion for women of all ages. I collaborated closely with their team to help refresh their Shopify storefront while maintaining their warm, approachable aesthetic.</p>
        <h3 class="h4">Contribution</h3>
        <div class="stats">
          <p><strong>Agency: <span>{{ brand.agency }}</span></strong></p>
          <p><strong>Involvement:</strong> {{ brand.involvement_progress }}</p>
        </div>
        <p>My work included rebuilding collection templates, improving product filtering, and refining key customer journeys. The result was a faster, more intuitive site that reflected their brand personality without compromising performance.</p>
        <a class="button button--style-1" href="#work">Learn more</a>
        <a class="button button--style-2 button--filled" href="https://www.kitandkaboodal.com/" target="_blank">View Website</a>`}},{id:"mutt-motorcycles",largeBlock:!1,name:"Mutt Motorcycles",logo:"./assets/images/brand/logo/logo-mutt-motorcycles.svg",lifestyleImage:"./assets/images/brand/lifestyle/mutt-motorcycles.jpg",website:"https://muttmotorcycles.com/",agency:"Cake Agency",involvement:{progress:5,max:5},modal:{id:"brands-item-mutt-motorcycles",description_html:`
        <h2>A Custom Ride for Every Customer</h2>
        <p>Mutt Motorcycles crafts small engine motorcycles with classic styling and a bold identity. I partnered with Cake Agency to help align their digital experience with the gritty, rebellious nature of the brand.</p>
        <h3 class="h4">Contribution</h3>
        <div class="stats">
          <p><strong>Agency: <span>{{ brand.agency }}</span></strong></p>
          <p><strong>Involvement:</strong> {{ brand.involvement_progress }}</p>
        </div>
        <p>I rebuilt core page templates in Shopify, introduced performance boosts for mobile-first browsing, and collaborated on animations that mirror the raw, handcrafted essence of their bikes. This project was full throttle from start to finish.</p>
        <a class="button button--style-1" href="#work">Learn more</a>
        <a class="button button--style-2 button--filled" href="https://muttmotorcycles.com/" target="_blank">View Website</a>`}},{id:"medik8",largeBlock:!1,name:"Medik8",logo:"./assets/images/brand/logo/logo-medik8.svg",lifestyleImage:"./assets/images/brand/lifestyle/medik8.webp",website:"https://www.medik8.com/",agency:"Fostr",involvement:{progress:1,max:5},modal:{id:"brands-item-medik8",description_html:`
        <h2>Medik8 \u2013 Skincare Reimagined</h2>
        <p>
          Medik8 is a premium skincare brand known for its science-backed formulations and commitment to sustainability. Their products focus on delivering visible results without compromising skin health.
        </p>
        <h3 class="h4">Contribution</h3>
        <div class="stats">
          <p><strong>Agency: <span>{{ brand.agency }}</span></strong></p>
          <p><strong>Involvement:</strong> {{ brand.involvement_progress }}</p>
        </div>
        <p>
          I worked closely with the Medik8 team to redesign their Shopify storefront with a modern, responsive layout and improved UX for both mobile and desktop. My responsibilities included performance optimization, integrating flexible content blocks for campaigns, and refining animations to align with their brand aesthetic.
        </p>
        <a class="button button--style-1" href="#work">Learn more</a>
        <a class="button button--style-2 button--filled" href="https://www.medik8.com/" target="_blank">View Website</a>`}},{id:"indu",largeBlock:!0,name:"Indu",logo:"./assets/images/brand/logo/logo-indu.svg",lifestyleImage:"./assets/images/brand/lifestyle/indu.jpg",website:"https://indu.me/",agency:"Fostr",involvement:{progress:5,max:5},modal:{id:"brands-item-indu",description_html:`
        <h2>Wellness Meets Modern Design</h2>
        <p>Indu blends contemporary lifestyle with holistic wellbeing. As part of their launch, I supported the Shopify build with foundational frontend work and best practices to futureproof the store\u2019s structure.</p>
        <h3 class="h4">Contribution</h3>
        <div class="stats">
          <p><strong>Agency: <span>{{ brand.agency }}</span></strong></p>
          <p><strong>Involvement:</strong> {{ brand.involvement_progress }}</p>
        </div>
        <p>While my role on this project was light-touch, I contributed to key layout components and performance enhancements that ensured their online presence matched the calming clarity of the brand.</p>
        <a class="button button--style-1" href="#work">Learn more</a>
        <a class="button button--style-2 button--filled" href="https://indu.me/" target="_blank">View Website</a>`}},{id:"beis",largeBlock:!1,name:"B\xC9IS",logo:"./assets/images/brand/logo/logo-beis.svg",lifestyleImage:"./assets/images/brand/lifestyle/beis.jpg",website:"https://uk.beistravel.com/",agency:"Fostr",involvement:{progress:3,max:5},modal:{id:"brands-item-beis",description_html:`
        <h2>Travel Made Beautiful</h2>
        <p>B\xC9IS delivers stylish travel gear with a cult following. I worked on improving their Shopify frontend to streamline content delivery and enhance mobile performance across high-traffic pages.</p>
        <h3 class="h4">Contribution</h3>
        <div class="stats">
          <p><strong>Agency: <span>{{ brand.agency }}</span></strong></p>
          <p><strong>Involvement:</strong> {{ brand.involvement_progress }}</p>
        </div>
        <p>The project focused on performance auditing, layout cleanup, and modularising components to help the brand\u2019s team easily scale campaigns while keeping speed and UX top of mind.</p>
        <a class="button button--style-1" href="#work">Learn more</a>
        <a class="button button--style-2 button--filled" href="https://uk.beistravel.com/" target="_blank">View Website</a>`}},{id:"pattern",largeBlock:!0,name:"Pattern",logo:"./assets/images/brand/logo/logo-pattern.svg",lifestyleImage:"./assets/images/brand/lifestyle/pattern.jpg",website:"https://pattern.com/",agency:"Fostr",involvement:{progress:2,max:5},modal:{id:"brands-item-pattern",description_html:`
        <h2>A Future-Forward Shopify Experience</h2>
        <p>Pattern offers a suite of home and lifestyle brands built for modern consumers. I helped refine reusable blocks and navigation on their Shopify build to keep things modular and on-brand.</p>
        <h3 class="h4">Contribution</h3>
        <div class="stats">
          <p><strong>Agency: <span>{{ brand.agency }}</span></strong></p>
          <p><strong>Involvement:</strong> {{ brand.involvement_progress }}</p>
        </div>
        <p>This work included frontend enhancements across templates, tighter integration with their CMS setup, and optimisation for scalable storytelling across different product lines.</p>
        <a class="button button--style-1" href="#work">Learn more</a>
        <a class="button button--style-2 button--filled" href="https://pattern.com/" target="_blank">View Website</a>`}},{id:"st-john",largeBlock:!0,name:"St John",logo:"./assets/images/brand/logo/logo-st-john.svg",lifestyleImage:"./assets/images/brand/lifestyle/st-john.jpg",website:"https://www.stjohnknits.com/",agency:"Fostr",involvement:{progress:5,max:5},modal:{id:"brands-item-st-john",description_html:`
        <h2>Luxury Refined for Digital</h2>
        <p>St. John is a heritage fashion brand known for timeless silhouettes and elevated craftsmanship. I contributed to frontend refinement and collaborated on layout adjustments for Shopify sections used across campaigns.</p>
        <h3 class="h4">Contribution</h3>
        <div class="stats">
          <p><strong>Agency: <span>{{ brand.agency }}</span></strong></p>
          <p><strong>Involvement:</strong> {{ brand.involvement_progress }}</p>
        </div>
        <p>This project involved tailoring design components to maintain brand elegance while improving the performance of image-heavy modules and interactive storytelling elements.</p>
        <a class="button button--style-1" href="#work">Learn more</a>
        <a class="button button--style-2 button--filled" href="https://www.stjohnknits.com/" target="_blank">View Website</a>`}},{id:"kjear-weis",largeBlock:!1,name:"Kjaer Weis",logo:"./assets/images/brand/logo/logo-kjaer-weis.svg",lifestyleImage:"./assets/images/brand/lifestyle/kjaer-weis.jpg",website:"https://kjaerweis.com/",agency:"Fostr",involvement:{progress:2,max:5},modal:{id:"brands-item-kjaer-weis",description_html:`
        <h2>Clean Beauty, Clean Code</h2>
        <p>Kjaer Weis blends luxury aesthetics with clean beauty. I was involved in optimising their Shopify theme with a focus on accessibility, flexible content modules, and elegant micro-interactions.</p>
        <h3 class="h4">Contribution</h3>
        <div class="stats">
          <p><strong>Agency: <span>{{ brand.agency }}</span></strong></p>
          <p><strong>Involvement:</strong> {{ brand.involvement_progress }}</p>
        </div>
        <p>The focus was on modernising templates, improving load times on collection pages, and ensuring pixel-perfect alignment with the brand\u2019s minimalist visual direction.</p>
        <a class="button button--style-1" href="#work">Learn more</a>
        <a class="button button--style-2 button--filled" href="https://kjaerweis.com/" target="_blank">View Website</a>`}},{id:"new-era",largeBlock:!0,name:"New Era",logo:"./assets/images/brand/logo/logo-new-era.svg",lifestyleImage:"./assets/images/brand/lifestyle/new-era.jpg",website:"https://www.neweracap.eu/",agency:"Fostr",involvement:{progress:5,max:5},modal:{id:"brands-item-new-era",description_html:`
        <h2>Heritage Meets High Performance</h2>
        <p>New Era's digital presence had to match the legacy of their globally recognised brand. I supported the team by refining the Shopify frontend and improving mobile UX consistency across high-traffic flows.</p>
        <h3 class="h4">Contribution</h3>
        <div class="stats">
          <p><strong>Agency: <span>{{ brand.agency }}</span></strong></p>
          <p><strong>Involvement:</strong> {{ brand.involvement_progress }}</p>
        </div>
        <p>Part of my work included simplifying layout logic and optimising navigation transitions so that the user journey felt seamless\u2014especially across devices and international variants.</p>
        <a class="button button--style-1" href="#work">Learn more</a>
        <a class="button button--style-2 button--filled" href="https://www.neweracap.eu/" target="_blank">View Website</a>`}},{id:"rad",largeBlock:!1,name:"Rad",logo:"./assets/images/brand/logo/logo-rad.svg",lifestyleImage:"./assets/images/brand/lifestyle/rad.jpg",website:"https://rad.co.uk/",agency:"Fostr",involvement:{progress:3,max:5},modal:{id:"brands-item-rad",description_html:`
        <h2>Culture-Driven eCommerce</h2>
        <p>Rad is bold, playful, and full of personality\u2014and the frontend needed to match. I contributed to cleaning up their theme structure and introduced animation tweaks to energise the user experience.</p>
        <h3 class="h4">Contribution</h3>
        <div class="stats">
          <p><strong>Agency: <span>{{ brand.agency }}</span></strong></p>
          <p><strong>Involvement:</strong> {{ brand.involvement_progress }}</p>
        </div>
        <p>I also supported performance profiling and made small-but-mighty changes that helped enhance the visual impact of campaigns without sacrificing load times.</p>
        <a class="button button--style-1" href="#work">Learn more</a>
        <a class="button button--style-2 button--filled" href="https://rad.co.uk/" target="_blank">View Website</a>`}},{id:"rhino-greenhouses",largeBlock:!1,name:"Rhino Greenhouses",logo:"./assets/images/brand/logo/logo-rhino-greenhouses.png",lifestyleImage:"./assets/images/brand/lifestyle/rhino-greenhouses.jpg",website:"https://www.rhino.co.uk/",agency:"Fostr",involvement:{progress:2,max:5},modal:{id:"brands-item-rhino-greenhouses",description_html:`
        <h2>Rooted in Functionality</h2>
        <p>Rhino Greenhouses delivers high-spec garden structures, and the frontend needed to be as robust. I worked on simplifying code, streamlining content blocks, and supporting accessibility best practices.</p>
        <h3 class="h4">Contribution</h3>
        <div class="stats">
          <p><strong>Agency: <span>{{ brand.agency }}</span></strong></p>
          <p><strong>Involvement:</strong> {{ brand.involvement_progress }}</p>
        </div>
        <p>My involvement focused on improving page structure and refining mobile responsiveness for their product-focused content, ensuring it could scale across future content drops and seasonal campaigns.</p>
        <a class="button button--style-1" href="#work">Learn more</a>
        <a class="button button--style-2 button--filled" href="https://www.rhino.co.uk/" target="_blank">View Website</a>`}},{id:"protectapet",largeBlock:!1,name:"Protectapet",logo:"./assets/images/brand/logo/logo-protectapet.png",lifestyleImage:"./assets/images/brand/lifestyle/protectapet.jpg",website:"https://www.protectapet.com/",agency:"Cake Agency",involvement:{progress:3,max:5},modal:{id:"brands-item-protectapet",description_html:`
        <h2>Secure Spaces for Furry Friends</h2>
        <p>Protectapet specialises in protective pet fencing systems, and their site needed to communicate reassurance and clarity. I helped improve content layout structure, ensuring their message came through with ease on mobile and desktop.</p>
        <h3 class="h4">Contribution</h3>
        <div class="stats">
          <p><strong>Agency: <span>{{ brand.agency }}</span></strong></p>
          <p><strong>Involvement:</strong> {{ brand.involvement_progress }}</p>
        </div>
        <p>My role focused on enhancing UX for their product discovery flow and refining custom Liquid sections that allow their team to build trust-driven content around their mission and solutions.</p>
        <a class="button button--style-1" href="#work">Learn more</a>
        <a class="button button--style-2 button--filled" href="https://www.protectapet.com/" target="_blank">View Website</a>`}},{id:"and-sons",largeBlock:!0,name:"And Sons",logo:"./assets/images/brand/logo/logo-and-sons.png",lifestyleImage:"./assets/images/brand/lifestyle/and-sons.jpg",website:"https://andsons.co.uk/",agency:"Cake Agency",involvement:{progress:4,max:5},modal:{id:"brands-item-and-sons",description_html:`
        <h2>Tailoring a Story-Driven Experience</h2>
        <p>And Sons is a premium brand with a strong sense of identity. I worked on extending their Shopify theme to support custom visual storytelling blocks, as well as refining typography and layout across PDPs and landing pages.</p>
        <h3 class="h4">Contribution</h3>
        <div class="stats">
          <p><strong>Agency: <span>{{ brand.agency }}</span></strong></p>
          <p><strong>Involvement:</strong> {{ brand.involvement_progress }}</p>
        </div>
        <p>The project required strong attention to design consistency and performance, especially on image-heavy templates. I also helped simplify how content could be managed internally using flexible, reusable Liquid components.</p>
        <a class="button button--style-1" href="#work">Learn more</a>
        <a class="button button--style-2 button--filled" href="https://andsons.co.uk/" target="_blank">View Website</a>`}},{id:"pandco",largeBlock:!1,name:"Pandco",logo:"./assets/images/brand/logo/logo-pandco.svg",lifestyleImage:"./assets/images/brand/lifestyle/pandco.jpg",website:"https://pandco.com/",agency:"Cake Agency",involvement:{progress:2,max:5},modal:{id:"brands-item-pandco",description_html:`
        <h2>Raw and Refined eCommerce</h2>
        <p>P&Co needed a Shopify theme that could carry the rawness of their brand while remaining refined in execution. I contributed to UI consistency, conversion-focused layout tweaks, and product grid flexibility.</p>
        <h3 class="h4">Contribution</h3>
        <div class="stats">
          <p><strong>Agency: <span>{{ brand.agency }}</span></strong></p>
          <p><strong>Involvement:</strong> {{ brand.involvement_progress }}</p>
        </div>
        <p>My work also touched on adjusting animations, updating mobile navigation patterns, and improving the custom section architecture so that their team could move faster with future seasonal drops.</p>
        <a class="button button--style-1" href="#work">Learn more</a>
        <a class="button button--style-2 button--filled" href="https://pandco.com/" target="_blank">View Website</a>`}},{id:"pangaia",largeBlock:!0,name:"Pangaia",logo:"./assets/images/brand/logo/logo-pangaia.svg",lifestyleImage:"./assets/images/brand/lifestyle/pangaia.jpg",website:"https://pangaia.com/",agency:"Fostr",involvement:{progress:5,max:5},modal:{id:"brands-item-pangaia",description_html:`
        <h2>Earth-First Innovation</h2>
        <p>Pangaia\u2019s bold sustainability mission demanded a fast, flexible, and visually clean storefront. I supported their frontend with improvements to their Shopify theme structure, focusing on content hierarchy and performance.</p>
        <h3 class="h4">Contribution</h3>
        <div class="stats">
          <p><strong>Agency: <span>{{ brand.agency }}</span></strong></p>
          <p><strong>Involvement:</strong> {{ brand.involvement_progress }}</p>
        </div>
        <p>This included fine-tuning reusable content blocks and refining the way collections and storytelling pages loaded across devices, ensuring speed without sacrificing creative flexibility.</p>
        <a class="button button--style-1" href="#work">Learn more</a>
        <a class="button button--style-2 button--filled" href="https://pangaia.com/" target="_blank">View Website</a>`}},{id:"bad-monday",largeBlock:!1,name:"bad-monday",logo:"./assets/images/brand/logo/logo-bad-monday.svg",lifestyleImage:"./assets/images/brand/lifestyle/bad-monday.jpg",website:"https://bad-monday.com/",agency:"Cage Agency",involvement:{progress:5,max:5},modal:{id:"brands-item-bad-monday",description_html:`
        <h2>Earth-First Innovation</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec a diam lectus. Sed sit amet ipsum mauris. Maecenas congue ligula ac quam viverra nec consectetur ante hendrerit. Donec et mollis dolor. Praesent et diam eget libero egestas mattis sit amet vitae augue.</p>
        <h3 class="h4">Contribution</h3>
        <div class="stats">
          <p><strong>Agency: <span>{{ brand.agency }}</span></strong></p>
          <p><strong>Involvement:</strong> {{ brand.involvement_progress }}</p>
        </div>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec a diam lectus. Sed sit amet ipsum mauris. Maecenas congue ligula ac quam viverra nec consectetur ante hendrerit. Donec et mollis dolor. Praesent et diam eget libero egestas mattis sit amet vitae augue.</p>
        <a class="button button--style-1" href="#work">Learn more</a>
        <a class="button button--style-2 button--filled" href="https://bad-monday.com/" target="_blank">View Website</a>`}},{id:"goose-and-gander",largeBlock:!1,name:"goose-and-gander",logo:"./assets/images/brand/logo/logo-goose-and-gander.svg",lifestyleImage:"./assets/images/brand/lifestyle/goose-and-gander.jpg",website:"https://gooseandgander.com/",agency:"Cage Agency",involvement:{progress:5,max:5},modal:{id:"brands-item-goose-and-gander",description_html:`
        <h2>Earth-First Innovation</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec a diam lectus. Sed sit amet ipsum mauris. Maecenas congue ligula ac quam viverra nec consectetur ante hendrerit. Donec et mollis dolor. Praesent et diam eget libero egestas mattis sit amet vitae augue.</p>
        <h3 class="h4">Contribution</h3>
        <div class="stats">
          <p><strong>Agency: <span>{{ brand.agency }}</span></strong></p>
          <p><strong>Involvement:</strong> {{ brand.involvement_progress }}</p>
        </div>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec a diam lectus. Sed sit amet ipsum mauris. Maecenas congue ligula ac quam viverra nec consectetur ante hendrerit. Donec et mollis dolor. Praesent et diam eget libero egestas mattis sit amet vitae augue.</p>
        <a class="button button--style-1" href="#work">Learn more</a>
        <a class="button button--style-2 button--filled" href="https://gooseandgander.com/" target="_blank">View Website</a>`}},{id:"dancing-leopard",largeBlock:!1,name:"dancing-leopard",logo:"./assets/images/brand/logo/logo-dancing-leopard.svg",lifestyleImage:"./assets/images/brand/lifestyle/dancing-leopard.jpg",website:"https://dancingleopard.com/",agency:"Cage Agency",involvement:{progress:5,max:5},modal:{id:"brands-item-dancing-leopard",description_html:`
        <h2>Earth-First Innovation</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec a diam lectus. Sed sit amet ipsum mauris. Maecenas congue ligula ac quam viverra nec consectetur ante hendrerit. Donec et mollis dolor. Praesent et diam eget libero egestas mattis sit amet vitae augue.</p>
        <h3 class="h4">Contribution</h3>
        <div class="stats">
          <p><strong>Agency: <span>{{ brand.agency }}</span></strong></p>
          <p><strong>Involvement:</strong> {{ brand.involvement_progress }}</p>
        </div>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec a diam lectus. Sed sit amet ipsum mauris. Maecenas congue ligula ac quam viverra nec consectetur ante hendrerit. Donec et mollis dolor. Praesent et diam eget libero egestas mattis sit amet vitae augue.</p>
        <a class="button button--style-1" href="#work">Learn more</a>
        <a class="button button--style-2 button--filled" href="https://dancingleopard.com/" target="_blank">View Website</a>`}}],j=ee;function K(o=0,e=5){let t=document.createElement("div");t.className="progress-blocks",t.setAttribute("aria-label",`Progress: ${o} out of ${e}`);for(let n=0;n<e;n++){let s=document.createElement("span");s.className="block",n<o&&(s.classList.add("filled"),s.setAttribute("data-index",n)),t.appendChild(s)}return t}var te=Object.prototype.toString,E=Array.isArray||function(e){return te.call(e)==="[object Array]"};function F(o){return typeof o=="function"}function ne(o){return E(o)?"array":typeof o}function q(o){return o.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function z(o,e){return o!=null&&typeof o=="object"&&e in o}function se(o,e){return o!=null&&typeof o!="object"&&o.hasOwnProperty&&o.hasOwnProperty(e)}var ae=RegExp.prototype.test;function oe(o,e){return ae.call(o,e)}var re=/\S/;function ie(o){return!oe(re,o)}var le={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function ce(o){return String(o).replace(/[&<>"'`=\/]/g,function(t){return le[t]})}var de=/\s*/,pe=/\s+/,G=/\s*=/,ue=/\s*\}/,me=/#|\^|\/|>|\{|&|=|!/;function he(o,e){if(!o)return[];var t=!1,n=[],s=[],a=[],r=!1,i=!1,l="",c=0;function d(){if(r&&!i)for(;a.length;)delete s[a.pop()];else a=[];r=!1,i=!1}var u,h,w;function L(y){if(typeof y=="string"&&(y=y.split(pe,2)),!E(y)||y.length!==2)throw new Error("Invalid tags: "+y);u=new RegExp(q(y[0])+"\\s*"),h=new RegExp("\\s*"+q(y[1])),w=new RegExp("\\s*"+q("}"+y[1]))}L(e||b.tags);for(var p=new S(o),v,g,f,x,T,k;!p.eos();){if(v=p.pos,f=p.scanUntil(u),f)for(var P=0,J=f.length;P<J;++P)x=f.charAt(P),ie(x)?(a.push(s.length),l+=x):(i=!0,t=!0,l+=" "),s.push(["text",x,v,v+1]),v+=1,x===`
`&&(d(),l="",c=0,t=!1);if(!p.scan(u))break;if(r=!0,g=p.scan(me)||"name",p.scan(de),g==="="?(f=p.scanUntil(G),p.scan(G),p.scanUntil(h)):g==="{"?(f=p.scanUntil(w),p.scan(ue),p.scanUntil(h),g="&"):f=p.scanUntil(h),!p.scan(h))throw new Error("Unclosed tag at "+p.pos);if(g==">"?T=[g,f,v,p.pos,l,c,t]:T=[g,f,v,p.pos],c++,s.push(T),g==="#"||g==="^")n.push(T);else if(g==="/"){if(k=n.pop(),!k)throw new Error('Unopened section "'+f+'" at '+v);if(k[1]!==f)throw new Error('Unclosed section "'+k[1]+'" at '+v)}else g==="name"||g==="{"||g==="&"?i=!0:g==="="&&L(f)}if(d(),k=n.pop(),k)throw new Error('Unclosed section "'+k[1]+'" at '+p.pos);return fe(ge(s))}function ge(o){for(var e=[],t,n,s=0,a=o.length;s<a;++s)t=o[s],t&&(t[0]==="text"&&n&&n[0]==="text"?(n[1]+=t[1],n[3]=t[3]):(e.push(t),n=t));return e}function fe(o){for(var e=[],t=e,n=[],s,a,r=0,i=o.length;r<i;++r)switch(s=o[r],s[0]){case"#":case"^":t.push(s),n.push(s),t=s[4]=[];break;case"/":a=n.pop(),a[5]=s[2],t=n.length>0?n[n.length-1][4]:e;break;default:t.push(s)}return e}function S(o){this.string=o,this.tail=o,this.pos=0}S.prototype.eos=function(){return this.tail===""};S.prototype.scan=function(e){var t=this.tail.match(e);if(!t||t.index!==0)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n};S.prototype.scanUntil=function(e){var t=this.tail.search(e),n;switch(t){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,t),this.tail=this.tail.substring(t)}return this.pos+=n.length,n};function _(o,e){this.view=o,this.cache={".":this.view},this.parent=e}_.prototype.push=function(e){return new _(e,this)};_.prototype.lookup=function(e){var t=this.cache,n;if(t.hasOwnProperty(e))n=t[e];else{for(var s=this,a,r,i,l=!1;s;){if(e.indexOf(".")>0)for(a=s.view,r=e.split("."),i=0;a!=null&&i<r.length;)i===r.length-1&&(l=z(a,r[i])||se(a,r[i])),a=a[r[i++]];else a=s.view[e],l=z(s.view,e);if(l){n=a;break}s=s.parent}t[e]=n}return F(n)&&(n=n.call(this.view)),n};function m(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}m.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};m.prototype.parse=function(e,t){var n=this.templateCache,s=e+":"+(t||b.tags).join(":"),a=typeof n<"u",r=a?n.get(s):void 0;return r==null&&(r=he(e,t),a&&n.set(s,r)),r};m.prototype.render=function(e,t,n,s){var a=this.getConfigTags(s),r=this.parse(e,a),i=t instanceof _?t:new _(t,void 0);return this.renderTokens(r,i,n,e,s)};m.prototype.renderTokens=function(e,t,n,s,a){for(var r="",i,l,c,d=0,u=e.length;d<u;++d)c=void 0,i=e[d],l=i[0],l==="#"?c=this.renderSection(i,t,n,s,a):l==="^"?c=this.renderInverted(i,t,n,s,a):l===">"?c=this.renderPartial(i,t,n,a):l==="&"?c=this.unescapedValue(i,t):l==="name"?c=this.escapedValue(i,t,a):l==="text"&&(c=this.rawValue(i)),c!==void 0&&(r+=c);return r};m.prototype.renderSection=function(e,t,n,s,a){var r=this,i="",l=t.lookup(e[1]);function c(h){return r.render(h,t,n,a)}if(l){if(E(l))for(var d=0,u=l.length;d<u;++d)i+=this.renderTokens(e[4],t.push(l[d]),n,s,a);else if(typeof l=="object"||typeof l=="string"||typeof l=="number")i+=this.renderTokens(e[4],t.push(l),n,s,a);else if(F(l)){if(typeof s!="string")throw new Error("Cannot use higher-order sections without the original template");l=l.call(t.view,s.slice(e[3],e[5]),c),l!=null&&(i+=l)}else i+=this.renderTokens(e[4],t,n,s,a);return i}};m.prototype.renderInverted=function(e,t,n,s,a){var r=t.lookup(e[1]);if(!r||E(r)&&r.length===0)return this.renderTokens(e[4],t,n,s,a)};m.prototype.indentPartial=function(e,t,n){for(var s=t.replace(/[^ \t]/g,""),a=e.split(`
`),r=0;r<a.length;r++)a[r].length&&(r>0||!n)&&(a[r]=s+a[r]);return a.join(`
`)};m.prototype.renderPartial=function(e,t,n,s){if(n){var a=this.getConfigTags(s),r=F(n)?n(e[1]):n[e[1]];if(r!=null){var i=e[6],l=e[5],c=e[4],d=r;l==0&&c&&(d=this.indentPartial(r,c,i));var u=this.parse(d,a);return this.renderTokens(u,t,n,d,s)}}};m.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(n!=null)return n};m.prototype.escapedValue=function(e,t,n){var s=this.getConfigEscape(n)||b.escape,a=t.lookup(e[1]);if(a!=null)return typeof a=="number"&&s===b.escape?String(a):s(a)};m.prototype.rawValue=function(e){return e[1]};m.prototype.getConfigTags=function(e){return E(e)?e:e&&typeof e=="object"?e.tags:void 0};m.prototype.getConfigEscape=function(e){if(e&&typeof e=="object"&&!E(e))return e.escape};var b={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(o){I.templateCache=o},get templateCache(){return I.templateCache}},I=new m;b.clearCache=function(){return I.clearCache()};b.parse=function(e,t){return I.parse(e,t)};b.render=function(e,t,n,s){if(typeof e!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+ne(e)+'" was given as the first argument for mustache#render(template, view, partials)');return I.render(e,t,n,s)};b.escape=ce;b.Scanner=S;b.Context=_;b.Writer=m;var X=b;var R=class o extends ${_keyHandler=null;static modalHtmlCache=null;_lastFocusedElement=null;async ensureModalLoaded(){if(!document.getElementById("modal")){if(o.modalHtmlCache){let e=o.modalHtmlCache.cloneNode(!0);document.body.appendChild(e);return}try{let e=await fetch("./snippets/modal-brand.html");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);let t=await e.text(),n=document.createElement("div");n.innerHTML=t.trim();let s=n.querySelector("#modal");if(!s)throw new Error("Modal structure (#modal) not found in snippet: ./snippets/modal-brand.html");o.modalHtmlCache=s,document.body.appendChild(s),s.setAttribute("role","dialog"),s.setAttribute("aria-modal","true"),s.setAttribute("aria-hidden","true"),s.setAttribute("tabindex","-1"),this.attachCloseHandlers(s),this.setupDragFunctionality(s)}catch(e){console.error("Failed to load modal-brand snippet:",e)}}}async showModal(){await this.ensureModalLoaded();let e=document.getElementById("modal");if(!e){console.error("Cannot show modal: #modal element not found.");return}let t=e.querySelector(".modal__inner-content");if(!t){console.error("Cannot show modal: .modal__inner-content element not found.");return}t.innerHTML="";let n=this.getAttribute("data-brand-id");if(!n){console.error("ModalBrand: data-brand-id attribute is missing.",this),t.innerHTML="<p>Error: Brand ID not specified.</p>";return}let s=j.find(a=>a.id===n);s?(this.populateBrandContent(t,s),this.dataset.nav==="true"&&this.setupNavigation(e)):(console.error(`Brand data not found for ID: ${n}`),t.innerHTML="<p>Brand information not available.</p>"),this._lastFocusedElement=document.activeElement,requestAnimationFrame(()=>{A(),document.body.classList.add("modal-open"),e.classList.add("is-active"),e.setAttribute("aria-hidden","false"),e.focus(),this.trapFocus(e);let a=e.querySelector(".progress-blocks");a&&setTimeout(()=>{a.classList.add("in-view")},300)})}populateBrandContent(e,t){let n=document.createDocumentFragment(),s=document.createElement("img");s.src=t.lifestyleImage||"placeholder-image.jpg",s.alt=`${t.name||"Brand"} lifestyle image`;let a=document.createElement("div");a.classList.add("modal__brand-image-wrapper"),a.appendChild(s),n.appendChild(a);let r=document.createElement("div");r.classList.add("modal__container");let i=document.createElement("img");i.src=t.logo||"",i.alt=`${t.name||"Brand"} logo`,i.classList.add("modal__brand-logo"),r.appendChild(i);let l=document.createElement("div"),c=t.modal?.description_html||"<p>No description available.</p>",u={brand:{involvement_progress:t.involvement?K(t.involvement.progress,t.involvement.max).outerHTML:"",agency:t.agency||"N/A"}},h=X.render(c,u);l.innerHTML=h,r.appendChild(l),n.appendChild(r),e.appendChild(n)}setupNavigation(e){let t=Array.from(document.querySelectorAll("modal-content-brand[data-nav='true']")),n=t.indexOf(this);if(n===-1)return;let s=(n+1)%t.length,a=(n-1+t.length)%t.length,r=e.querySelector(".modal__nav--next"),i=e.querySelector(".modal__nav--prev");r&&(r.onclick=null,r.onclick=()=>t[s].showModal()),i&&(i.onclick=null,i.onclick=()=>t[a].showModal()),this._keyHandler&&window.removeEventListener("keydown",this._keyHandler),this._keyHandler=l=>{e.classList.contains("is-active")&&(l.key==="ArrowRight"?(l.preventDefault(),t[s].showModal()):l.key==="ArrowLeft"?(l.preventDefault(),t[a].showModal()):l.key==="Escape"&&(l.preventDefault(),this.closeModal()))},window.addEventListener("keydown",this._keyHandler)}closeModal(){super.closeModal();let e=document.getElementById("modal");e&&(e.setAttribute("aria-hidden","true"),e.classList.remove("is-active"),this._lastFocusedElement&&this._lastFocusedElement.focus(),B(),document.body.classList.remove("modal-open"),this._keyHandler&&(window.removeEventListener("keydown",this._keyHandler),this._keyHandler=null))}trapFocus(e){let t=e.querySelectorAll('a, button, textarea, input, select, [tabindex]:not([tabindex="-1"])'),n=t[0],s=t[t.length-1],a=r=>{r.key==="Tab"&&(r.shiftKey&&document.activeElement===n?(r.preventDefault(),s.focus()):!r.shiftKey&&document.activeElement===s&&(r.preventDefault(),n.focus()))};e.addEventListener("keydown",a),e.addEventListener("transitionend",()=>{e.removeEventListener("keydown",a)},{once:!0})}};customElements.define("modal-content-brand",R);var W=class extends HTMLElement{constructor(){super()}connectedCallback(){this.render()}async loadTemplate(){if(this._template)return this._template;try{let t=await(await fetch("./snippets/brand-card.html")).text();return this._template=t,t}catch(e){return console.error("Failed to load brand card snippet:",e),""}}async render(){let e=this,t=await this.loadTemplate();t&&j.forEach(n=>{let s=t.replace(/{{\s*brand\.key\s*}}/g,n.id).replace(/{{\s*brand\.logo\s*}}/g,n.logo).replace(/{{\s*brand\.lifestyleImage\s*}}/g,n.lifestyleImage).replace(/{{\s*brand\.name\s*}}/g,n.name),a=document.createElement("div");a.innerHTML=s;let r=a.firstElementChild;n.largeBlock&&r.classList.add("large-block"),e.appendChild(r)})}};customElements.define("brand-cards",W);})();
/*! Bundled license information:

mustache/mustache.mjs:
  (*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   *)
*/
